<view class="consult-page">
  <!-- 自定义导航栏 -->
  <view class="navbar" style="height:{{navHeight+10}}px;">
    <view class="navbar-title" style="font-size:38rpx;">{{pageTitle}}</view>
  </view>
  <!-- 顶部导航栏 -->
  <view class="nav-bar">
    <view class="nav-title">在线咨询权威专家</view>
    <view class="nav-right">
      <image src="/images/icons/consult-header.png" class="history-icon"></image>
    </view>
  </view>

  <!-- 搜索栏 -->
  <view class="search-box">
    <view class="search-inner">
      <image src="/images/search-icon.png" class="search-icon"></image>
      <input placeholder="输入领域搜索专家（如：鱼类病害、遗传育种）" placeholder-class="search-placeholder"></input>
    </view>
  </view>

  <!-- 专家分类标签 -->
  <view class="tag-container">
    <view class="tag-item {{currentTag === item.id ? 'tag-active' : ''}}" wx:for="{{tagList}}" wx:key="id" data-tagid="{{item.id}}">
      <text>{{item.name}}</text>
    </view>
  </view>

  <!-- 专家列表 -->
  <view class="expert-list">
    <view class="expert-card" wx:for="{{expertList}}" wx:key="expertId" data-expertid="{{item.expertId}}"
    >
      <!-- 专家头像与基本信息 -->
      <view class="expert-header">
        <image src="{{item.avatar}}" class="expert-avatar"></image>
        <view class="expert-info">
          <text class="expert-name">{{item.name}}</text>
          <text class="expert-title">{{item.title}}</text>
          <view class="expert-tag">
            <text class="tag-text">{{item.field}}</text>
          </view>
        </view>
      </view>

      <!-- 专家简介 -->
      <view class="expert-desc">
        <text>{{item.intro}}</text>
      </view>

      <!-- 咨询数据 -->
      <view class="expert-stats">
        <view class="stat-item">
          <text class="stat-num">{{item.consultCount}}</text>
          <text class="stat-text">咨询量</text>
        </view>
        <view class="stat-item">
          <text class="stat-num">{{item.responseRate}}%</text>
          <text class="stat-text">响应率</text>
        </view>
        <view class="stat-item">
          <text class="stat-num">{{item.score}}</text>
          <text class="stat-text">满意度</text>
        </view>
      </view>

      <!-- 立即咨询按钮 -->
      <button class="consult-btn" bindtap="handleConsultNow" data-expertid="{{item.expertId}}">
        立即咨询
      </button>
    </view>
  </view>

  <!-- 底部咨询提示 -->
  <view class="consult-tip">
    <image src="/images/tip-icon.png" class="tip-icon"></image>
    <text class="tip-text">咨询前建议准备鱼病症状照片或视频，提高沟通效率</text>
  </view>
</view>